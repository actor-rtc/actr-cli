# {{PROJECT_NAME_PASCAL}}

An iOS application built with the Actr framework that demonstrates echo service functionality.

Template: echo

English | [简体中文](README.zh-CN.md)

## Project Structure

```
{{PROJECT_NAME}}/
├── Actr.toml              # Actr framework configuration
├── Actr.lock.toml         # Actr lock file (generated by actr install)
├── project.yml            # XcodeGen project configuration
├── {{PROJECT_NAME_PASCAL}}/               # iOS application source code
│   ├── {{PROJECT_NAME_PASCAL}}.swift      # App entry point
│   ├── ActrService.swift  # Actr service implementation
│   ├── ContentView.swift  # Main UI view
│   └── Generated/         # Auto-generated code
├── protos/                # Protocol buffer definitions
│   ├── local/             # Local service definitions
│   └── remote/            # Remote service definitions
└── src/                   # Rust source code (if applicable)
```

## Prerequisites

Before building this project, ensure you have the following installed:

- **Xcode** (latest version recommended)
- **XcodeGen** - For generating Xcode project files
  ```bash
  brew install xcodegen
  ```
- **Actr CLI** - For generating Actr framework code
- **Swift Package Manager** dependencies:
  - `actr-swift` (local package)
  - `actr-protocols-swift` (local package)
  - `SwiftProtobuf` (from GitHub)

## Project Creation

To create a new {{PROJECT_NAME_PASCAL}} project from scratch, follow these three steps:

1. **Initialize the project** using the echo template:
   ```bash
   actr init --template echo -l swift {{PROJECT_NAME}}
   ```
   This creates the project structure with the echo template configuration.

2. **Install dependencies**:
   ```bash
   actr install
   ```
   This installs all required dependencies defined in the project.

3. **Generate Swift code**:
   ```bash
   actr gen -l swift
   ```
   This generates the Swift code from Actr configuration and protocol definitions.

## Launch and Setup Notes

### Important: Xcode Team Configuration

**After opening the project in Xcode, you must manually configure the signing team:**

1. Open `{{PROJECT_NAME_PASCAL}}.xcodeproj` in Xcode
2. Select the `{{PROJECT_NAME_PASCAL}}` target in the project navigator
3. Go to the **Signing & Capabilities** tab
4. Under **Signing**, check **Automatically manage signing**
5. Select your **Team** from the dropdown menu
   - If you don't see your team, you may need to:
     - Add your Apple ID in Xcode Preferences -> Accounts
     - Ensure you have a valid Apple Developer account
6. Xcode will automatically generate a provisioning profile

**Note:** The team setting is not included in `project.yml` because it varies per developer. Each developer must configure their own team in Xcode.

### Configuration

The application configuration is defined in `Actr.toml`:

- **Signaling Server**: WebSocket URL for signaling (default: `{{SIGNALING_URL}}/signaling/ws`)
- **Realm ID**: Deployment realm identifier
- **WebRTC Settings**: STUN/TURN server configuration
- **Observability**: Tracing and logging configuration

Modify these settings as needed for your deployment environment.

## Development Workflow

1. Modify protocol definitions in `protos/` if needed
2. Use `actr discovery` to view services and add them to `Actr.toml`
3. Use `actr install` to download proto files and generate `Actr.lock.toml`
4. Regenerate code: `actr gen -l swift`
5. Build and test in Xcode

## License

Apache-2.0
